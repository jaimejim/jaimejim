<!DOCTYPE html>
<!-- author: jaime.jimenez@ericsson.com & remarkjs -->
<html>
  <head>
    <meta charset="utf-8" />
    <title>IPSO WISHI</title>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Roboto:200,300,400);
      @import url(https://fonts.googleapis.com/css?family=Roboto+Mono:400,700,400italic);

      body {
        font-family: 'Roboto';
        font-weight: 200;
      }
      h1, h2, h3 {
        font-family: 'Roboto';
        font-weight: 200;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; font-weight: 400;}
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(129, 202, 244);
        text-decoration: none;
      }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Roboto Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

name:inverse
layout: true
class: center, middle, inverse

---

#IP for Smart Objects (IPSO)
### Jaime Jiménez

.footnote[Slides available here [jaimejim.github.io](http://jaimejim.github.io/slides/ipsowishi.html), paper available here [IPSO Paper](https://github.com/IPSO-Alliance/pub/raw/master/ipso-paper.pdf)]
---
layout: false
##IPSO Architecture

* Create a set of objects and resources that represent:
  * Fundamental concepts (i.e. temperature, on/off switch)
  * Single points of those concepts (i.e.  Min/Max Value, Current Value)
* Make those atomic pieces reusable accross domains.
* Make complex things by first aggregating those resources and then using composition.


```
          +----------------------+
          | Application Software |  Application
          +----------------------+
          +----------------------+
          |     IPSO Objects     |  Data Model
          +----------------------+
          +----------------------+  \
          |  Requests/Responses  |  |
          |----------------------|  | CoAP/HTTP/XXX
          |       Messages       |  |
          +----------------------+  /

```


???
You would be using a number of objects to build more complex things (like a motor).

---

##Data Model

### Object Representation
  * Simple URI template:

  `Object ID/ Object Instance ID/ Resource ID.`

   ```
   3300  -> Temperature Sensor
   0     -> instance 0 of a Temperature Sensor
   5700  -> resource having the current value or a most recent reading`
   ```
  * All objects are registered with [OMNA](http://www.openmobilealliance.org/wp/OMNA/LwM2M/LwM2MRegistry.html) where the LWM2M Management Objects also are. We also use the [IPSO Repository](https://github.com/IPSO-Alliance/pub/tree/master/reg). More on that later.

### Data Types
  * Reuse those used by [OMA LWM2M](http://www.openmobilealliance.org/release/LightweightM2M/V1_0-20170208-A/OMA-TS-LightweightM2M-V1_0-20170208-A.pdf).
      * String, Integer, Float, Boolean, Object Link, Time, Opaque.

???
Simple URI template defines the object, there is an ID for the Object ID which has a semantic meaning (3303 is temperature), and Resource IDs (attribute, 5700 current value). Together, "3303/0/5700" refers to the current value of temperature sensor instance 0.

All objects are registered in OMNA, which is where the management objects are. So you have both management and applicaiton objects under the same registry.

At the moment we also have some new registrations on the public IPSO repository, I'll talk about that later.

---

##Data Model

### Operations
  * Same as [OMA LWM2M](http://www.openmobilealliance.org/release/LightweightM2M/V1_0-20170208-A/OMA-TS-LightweightM2M-V1_0-20170208-A.pdf).
      * R/W/X over resources, C/D over Instances, ...

### Content Formats
  * Specified by the [OMA LW TS 1,0](http://www.openmobilealliance.org/release/LightweightM2M/V1_0-20170208-A/OMA-TS-LightweightM2M-V1_0-20170208-A.pdf), JSON, [CBOR](http://cbor.io) and [SenML](https://tools.ietf.org/html/draft-ietf-core-senml-05):
      * Resources: text/plain, tlv. Objects: text/senml+json, application/cbor...

---

## Sample Temperature Object

<img src="/Users/jaime/Desktop/ipso1.png" width="600">

---

## Composite Objects

* As devices increase in complexity we can construct more complex objects by using Object Links instead of adding resources. That offers more granularity than a large nested object would (by observing the linked objects instead of the main one).

<img src="/Users/jaime/Desktop/ipso2.png" width="450">

???

As devices increase in complexity (e.g., from a sensor to an appliance, from a switch to a complex fuel control actuator) the need to link resources to create more complex objects or ”Composite Objects” arises.

* A composite object can be constructed using Object Links. That offers more granularity than a large nested object would (by observing the linked objects instead of the main one).

---

## Reusability

* If the existing set of Objects is not sufficient for your needs, you can create your own by reusing existing resources.
* Current set of objects and resources can be found at <https://github.com/IPSO-Alliance/pub/tree/master/reg>

???

---
## Sample Implementations

* IPSO is supported by default by LWM2M, for example in [Leshan](http://www.eclipse.org/leshan/).

* Sample [C package](https://github.com/contiki-os/contiki/tree/master/apps/ipso-objects) for use of IPSO Objects in [Contiki](http://www.contiki-os.org).

* JS code templates of IPSO-defined devices [code templates](https://github.com/PeterEB/smartobject/blob/master/docs/templates.md). Each template gives a code snippet of how to initialize an _Object Instance_ with its `oid` and `iid`, and lists every _Resource_ the _Object Instance_ **may** have.

* Sample [Smart Objects](https://npm.taobao.org/package/smartobject) Class that can be used to create IPSO Smart Objects in your JavaScript applications.

* [BIPSO](https://bluetoother.github.io/bipso/#/characteristic) is born to solve this problem of consistency and compatibility for BLE applications.

---
## Repository

### <https://github.com/IPSO-Alliance/pub>
  * [Issue tracker](https://github.com/IPSO-Alliance/pub/issues)
  * [travis-ci](https://travis-ci.org/IPSO-Alliance/pub)
  * [XML-defined Objects](https://github.com/IPSO-Alliance/pub/tree/master/reg/xml)

---
##Q&A

## What do you work on?
* IPSO Objects are generic in nature, both for the home or industrial domains.
* No code generation, though third parties like [BIPSO](https://bluetoother.github.io/bipso/#/characteristic) have automatic C code generation for the objects.
* I do basic validation on travis [travis-ci](https://travis-ci.org/IPSO-Alliance/pub)

---
##Q&A
## How far did you get?
* Traditionally IPSO, LWM2M, etc have worked via a committee. IMO that is necessary only when defining the basic semantics and particularities of a model. Once that's achieved, it's been mostly a collaborative and open approach through the public repository.
* Doing changes to the mode, updates and enhancements is complicated, as you have multiple versions.
* Adding new objects is trivial via a PR.
* AFAIK, some public products already use it (though not sponsor it) as it is part of the device's stack.

---
##Q&A

## How do you work?
* How is IPSO **competitive** against other alliances like IoTivity?
  * I think you mean OCF's [OneIoTA](http://oneiota.org/documents?filter%5Bmedia_type%5D=application%2Framl%2Byaml) wich is the part of OCF that does Data Models.
  * There are actually many more that somewhat are related: Schema.org, IANA, WoT TD, ZigBee CL, YANG models ...
  * In practice we are about 20-30 people from many companies that somehow get involved in few of those for *business* reasons.
  * [IOTSI Workshop](https://www.iab.org/activities/workshops/iotsi/)
  * Main asset is that it is used by LWM2M, so from the technical standpoint you can just use that right now.
  * Might use something different in the future?

---
##Q&A

## How far did you get?
* How to introduce IPSO in our AppIoT? Currently AppIoT uses its own SDK on the top of leshan MS.
  * [Leshan supports IPSO](https://github.com/eclipse/leshan/blob/9ff2b9ed23a2b3678c036135c1e6825a7ecfaf0f/leshan-core/src/main/resources/oma-objects-spec.json)
  * We have used them on LCM and [ELIOT](https://github.com/Alliasd/ELIOT), you can use those as examples.

* Can multiple IoT platform like AppIoT co-exist with IPSO? If so how?
  * Define *platform*, define *co-exist* and ... what?

* How can different service provider coexist? Can a device belong to 2 different service providers?
  * Define "service provider".
  * If you mean multiprotocol stack, you could, but not very practical. If you mean multiple *clouds*, sure. If you mean multiple ISPs,, sure.
  * It all depends on the "constrainedness" of the device. Can it run multiple stacks?


---
##Q&A

* Any *actual* example system/implementation to demonstrate how IPSO plays *so well* for interoperability?

  * Hey, did I notice some form of sarcasm there? :D
  * These are examples of groups/companies/orgs that use IPSO objects...

  * <http://ipso-alliance.github.io/pub/>
  * <http://www.eclipse.org/leshan/>
  * <http://bluetoother.github.io/bipso/#/>
  * <http://www.yanzinetworks.com/index.jsp>
  * <https://www.eisox.fr>
  * <http://www.eistec.se>
  * <http://lwmqn.github.io>
  * <http://www.cypress.com/internet-things-iot>
  * <https://home-assistant.io/blog/2017/04/17/ikea-tradfri-internet-of-things-done-right/>
  * <http://www.versasense.com>
  * <http://coap.technology/impls.html>
  * <https://github.com/PeterEB/coap-shepherd>
  * <Ikea Tradfi (private repo)>
  * <https://github.com/contiki-os/contiki/tree/master/apps/ipso-objects>

---

    </textarea>
    <script src="/Users/jaime/code/jaimejim.github.io/tasks/remark-latest.min.js">
    </script>
    <script
    src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
